(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2129:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trades",function(){return r(3508)}])},9508:function(e,a,r){"use strict";var t=r(5893);r(7294);var l=r(4418);a.Z=e=>(0,t.jsxs)(l.X,{fontSize:"md",fontWeight:"extrabold",alignSelf:"flex-start",children:["@",e.teamOwner]})},3508:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return trades}});var t=r(5893),l=r(7294),s=r(1163),n=r(9473),o=r(1669),i=r(295),d=r(8911),m=r(4641),c=r(7822),h=r(5808),f=r(8539);async function getAllTrades(){let e=h.Z.getState(),a=[];return await Promise.all(e.leagueDetails.leagueDetails.map(async e=>{for(let r=1;r<=17;r++)await fetch("https://api.sleeper.app/v1/league/".concat(e.leagueId,"/transactions/").concat(r)).then(e=>e.json()).then(t=>{let l=t.filter(e=>"trade"===e.type);l.map(t=>a.push(function(e,a,r){let t=h.Z.getState(),l=t.leagueDetails.rosters,s=l.find(a=>a.roster_id===e.roster_ids[0]),n=l.find(a=>a.roster_id===e.roster_ids[1]),o=e.adds,i=null,d=null;if(o){let a=Object.entries(o),r=a.filter(a=>{let[r,t]=a;return t===e.roster_ids[0]});i=r.map(e=>{let[a,r]=e;return(0,f.L)(Number(a))});let t=a.filter(a=>{let[r,t]=a;return t===e.roster_ids[1]});d=t.map(e=>{let[a,r]=e;return(0,f.L)(Number(a))})}let m=e.draft_picks.filter(e=>e.owner_id===s.roster_id),c=e.draft_picks.filter(e=>e.owner_id===n.roster_id),u=e.waiver_budget,x=[],g=[];u&&u.forEach(e=>{e.receiver===s.roster_id&&x.push(e.amount),e.receiver===n.roster_id&&g.push(e.amount)});let p={season:a,week:r,lastUpdated:e.status_updated,team1Owner:s.display_name,team2Owner:n.display_name,team1Adds:i,team2Adds:d,team1DraftPicks:m,team2DraftPicks:c,team1Waiver:x,team2Waiver:g};return p}(t,e.season,r)))})})),a.sort((e,a)=>e.lastUpdated>a.lastUpdated?-1:a.lastUpdated>e.lastUpdated?1:0)}var u=r(9997),x=r(1689);let g=[{name:"Arizona Cardinals",shortName:"ARI",league:"nfl",colors:{hex:["#97233F","#FFB612"]}},{name:"Atlanta Falcons",shortName:"ATL",league:"nfl",colors:{hex:["#A71930","#000000"]}},{name:"Baltimore Ravens",shortName:"BAL",league:"nfl",colors:{hex:["#241773","#9E7C0C"]}},{name:"Buffalo Bills",shortName:"BUF",league:"nfl",colors:{hex:["#00338D","#C60C30"]}},{name:"Carolina Panthers",shortName:"CAR",league:"nfl",colors:{hex:["#0085CA","#BFC0BF"]}},{name:"Cincinnati Bengals",shortName:"CIN",league:"nfl",colors:{hex:["#000000","#FB4F14"]}},{name:"Cleveland Browns",shortName:"CLE",league:"nfl",colors:{hex:["#FB4F14","#22150C"]}},{name:"Dallas Cowboys",shortName:"DAL",league:"nfl",colors:{hex:["#002244","#B0B7BC"]}},{name:"Chicago Bears",shortName:"CHI",league:"nfl",colors:{hex:["#0B162A","#C83803"]}},{name:"Denver Broncos",shortName:"DEN",league:"nfl",colors:{hex:["#002244","#FB4F14"]}},{name:"Detroit Lions",shortName:"DET",league:"nfl",colors:{hex:["#005A8B","#B0B7BC"]}},{name:"Green Bay Packers",shortName:"GB",league:"nfl",colors:{hex:["#203731","#FFB612"]}},{name:"Houston Texans",shortName:"HOU",league:"nfl",colors:{hex:["#03202F","#A71930"]}},{name:"Indianapolis Colts",shortName:"IND",league:"nfl",colors:{hex:["#002C5F","#A5ACAF"]}},{name:"Jacksonville Jaguars",shortName:"JAX",league:"nfl",colors:{hex:["#006778","#9F792C"]}},{name:"Kansas City Chiefs",shortName:"KC",league:"nfl",colors:{hex:["#E31837","#FFB612"]}},{name:"Los Angeles Rams",shortName:"LA",league:"nfl",colors:{hex:["#002244","#B3995D"]}},{name:"Miami Dolphins",shortName:"MIA",league:"nfl",colors:{hex:["#008E97","#F58220"]}},{name:"Minnesota Vikings",shortName:"MIN",league:"nfl",colors:{hex:["#4F2683","#FFC62F"]}},{name:"New England Patriots",shortName:"NE",league:"nfl",colors:{hex:["#002244","#C60C30"]}},{name:"New Orleans Saints",shortName:"NO",league:"nfl",colors:{hex:["#9F8958","#000000"]}},{name:"New York Giants",shortName:"NYG",league:"nfl",colors:{hex:["#0B2265","#A71930"]}},{name:"New York Jets",shortName:"NYJ",league:"nfl",colors:{hex:["#203731","#FFFFFF"]}},{name:"Oakland Raiders",shortName:"OAK",league:"nfl",colors:{hex:["#A5ACAF","#000000"]}},{name:"Philadelphia Eagles",shortName:"PHI",league:"nfl",colors:{hex:["#004953","#A5ACAF"]}},{name:"Pittsburgh Steelers",shortName:"PIT",league:"nfl",colors:{hex:["#000000","#FFB612"]}},{name:"Los Angeles Chargers",shortName:"LAC",league:"nfl",colors:{hex:["#0073CF","#FFB612"]}},{name:"San Francisco 49ers",shortName:"SF",league:"nfl",colors:{hex:["#AA0000","#B3995D"]}},{name:"Seattle Seahawks",shortName:"SEA",league:"nfl",colors:{hex:["#002244","#69BE28"]}},{name:"Tampa Bay Buccaneers",shortName:"TB",league:"nfl",colors:{hex:["#D50A0A","#34302B"]}},{name:"Tennessee Titans",shortName:"TEN",league:"nfl",colors:{hex:["#002244","#4B92DB"]}},{name:"Washington Redskins",shortName:"WAS",league:"nfl",colors:{hex:["#773141","#FFB612"]}}];var trades_PlayerTraded=e=>{var a,r,l,s;return(0,t.jsxs)(o.g,{justifyContent:"center",alignItems:"flex-start",w:"full",pl:4,style:{marginTop:4,marginBottom:4},children:[(0,t.jsx)(d.x,{fontSize:"sm",fontWeight:"extrabold",children:e.player.full_name}),(0,t.jsxs)(m.U,{pt:.5,style:{margin:0},children:[(0,t.jsx)(x.C,{variant:"solid",fontSize:8,bg:"white",color:"black",children:e.player.position}),(0,t.jsx)(x.C,{variant:"solid",fontSize:8,bg:(a=e.player.team,null===(r=g.find(e=>e.shortName===a))||void 0===r?void 0:r.colors.hex[0]),color:(l=e.player.team,null===(s=g.find(e=>e.shortName===l))||void 0===s?void 0:s.colors.hex[1]),children:e.player.team})]})]})},trades_SeasonWeekBadge=e=>(0,t.jsxs)(x.C,{rounded:"full",fontSize:"8px",px:1,bg:"tertiary",children:[e.trade.season," Week ",e.trade.week]}),p=r(120),trades_DateBadge=e=>(0,t.jsx)(x.C,{rounded:"full",fontSize:8,px:1,bg:"tertiary",children:p.ou.fromMillis(e.trade.lastUpdated).toFormat("LLL d")}),F=r(9508),trades_PickTraded=e=>(0,t.jsxs)(m.U,{w:"full",pl:4,style:{marginTop:4,marginBottom:4},children:[(0,t.jsx)(x.C,{variant:"solid",bg:"red",fontSize:8,children:"Pick"}),(0,t.jsxs)(d.x,{fontSize:"sm",fontWeight:"extrabold",children:[e.draftPick.season," Round ",e.draftPick.round]})]}),trades_FAABTraded=e=>(0,t.jsxs)(m.U,{w:"full",pl:4,style:{marginTop:4,marginBottom:4},children:[(0,t.jsx)(x.C,{variant:"solid",colorScheme:"pink",fontSize:8,children:"FAAB"}),(0,t.jsx)(d.x,{fontSize:"sm",fontWeight:"extrabold",children:"$".concat(e.faab)})]}),trades_DEFTraded=()=>(0,t.jsxs)(m.U,{w:"full",pl:4,style:{marginTop:4,marginBottom:4},children:[(0,t.jsx)(x.C,{variant:"solid",fontSize:8,colorScheme:"purple",children:"DEF"}),(0,t.jsx)(d.x,{fontSize:"sm",fontWeight:"extrabold",children:"DEF"})]}),A=r(8691),trades_FilterSelect=e=>{let a=(0,n.v9)(u.Eq);return(0,t.jsxs)(A.P,{w:32,rounded:"full",size:"xs",_focus:{bg:"quinary",color:"primary"},variant:"filled",onChange:function(a){e.setSelectedFilter(a.target.value)},children:[(0,t.jsx)("option",{defaultValue:"All",disabled:!0,value:"",children:"Filters"}),(0,t.jsx)("option",{value:"All",children:"All"}),a.map(e=>(0,t.jsxs)("option",{value:e.display_name,children:["@",e.display_name]},e.owner_id))]})},trades=function(){let e=(0,s.useRouter)(),[a,r]=(0,l.useState)(!0),[h,f]=(0,l.useState)([]),[x,g]=(0,l.useState)("All"),p=(0,n.v9)(u.$P),filteredTrades=(e,a)=>"All"===a?e:e.filter(e=>e.team1Owner===a||e.team2Owner===a);return((0,l.useEffect)(()=>{0===p.length&&e.push("/"),getAllTrades().then(e=>{r(!1),f(e)})},[]),a)?(0,t.jsxs)(o.g,{flex:1,bg:"primary",justify:"center",align:"center",minH:"90vh",children:[(0,t.jsx)(i.$,{size:"xl",color:"quinary"}),(0,t.jsx)(d.x,{color:"quinary",children:"Getting trades..."})]}):(0,t.jsxs)(o.g,{bg:"primary",flex:1,minH:"100vh",p:2,spacing:0,children:[(0,t.jsxs)(m.U,{w:"full",mb:6,justify:"space-between",alignItems:"center",pl:2,children:[(0,t.jsxs)(d.x,{color:"quinary",fontWeight:"bold",fontSize:"sm",children:["Total trades: ",filteredTrades(h,x).length]}),(0,t.jsx)(trades_FilterSelect,{setSelectedFilter:g})]}),filteredTrades(h,x).length>0?filteredTrades(h,x).map(e=>(0,t.jsxs)(o.g,{w:"full",px:1,pt:1,pb:2,children:[(0,t.jsxs)(m.U,{w:"full",children:[(0,t.jsx)(trades_SeasonWeekBadge,{trade:e}),(0,t.jsx)(trades_DateBadge,{trade:e})]}),(0,t.jsxs)(m.U,{w:"full",align:"flex-start",children:[(0,t.jsxs)(o.g,{flex:1,align:"center",ml:2,children:[(0,t.jsx)(F.Z,{teamOwner:e.team1Owner}),e.team1Adds&&e.team1Adds.map((e,a)=>e?(0,t.jsx)(trades_PlayerTraded,{player:e},e.full_name):(0,t.jsx)(trades_DEFTraded,{},"".concat(a,"DEF"))),e.team1DraftPicks.length>0&&e.team1DraftPicks.map((e,a)=>(0,t.jsx)(trades_PickTraded,{draftPick:e},a)),e.team1Waiver.length>0&&e.team1Waiver.map((e,a)=>(0,t.jsx)(trades_FAABTraded,{faab:e},a))]}),(0,t.jsxs)(o.g,{h:"100%",color:"quinary",flex:1,justify:"flex-start",align:"flex-start",ml:2,children:[(0,t.jsx)(F.Z,{teamOwner:e.team2Owner}),e.team2Adds&&e.team2Adds.map((e,a)=>e?(0,t.jsx)(trades_PlayerTraded,{player:e},e.full_name):(0,t.jsx)(trades_DEFTraded,{},"".concat(a,"DEF"))),e.team2DraftPicks.length>0&&e.team2DraftPicks.map((e,a)=>(0,t.jsx)(trades_PickTraded,{draftPick:e},a)),e.team2Waiver.length>0&&e.team2Waiver.map((e,a)=>(0,t.jsx)(trades_FAABTraded,{faab:e},a))]})]}),(0,t.jsx)(c.i,{borderColor:"secondary",pt:2})]},e.lastUpdated)):(0,t.jsx)(m.U,{children:(0,t.jsx)(d.x,{color:"quinary",children:"No trades"})})]})}}},function(e){e.O(0,[407,539,774,888,179],function(){return e(e.s=2129)}),_N_E=e.O()}]);