(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{764:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/league",function(){return s(8457)}])},1662:function(e,t,s){"use strict";s.d(t,{Cz:function(){return l},Lu:function(){return i},QJ:function(){return n},aS:function(){return o},eo:function(){return a},hq:function(){return r},v9:function(){return c}});let n="798545046239588352",o="992218083563216896",a="1050764486069710848",r="927733787578949632",i="1067049811502796800",l="943648270117601280",c="1048203475030573056"},8457:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return league}});var n=s(5893),o=s(7294),a=s(9473),r=s(4641),i=s(8911),l=s(1669),c=s(295),f=s(1689),u=s(1163),d=s.n(u),k=s(9997),p=s(975);s(6769),s(9841);var table=e=>{let{tableData:t}=e;return(0,n.jsx)("div",{className:"ag-theme-material-dark",style:{width:"95vw"},children:(0,n.jsx)(p.s,{context:t.context,rowData:t.rows,columnDefs:t.cols,defaultColDef:{flex:1,sortable:!1,wrapHeaderText:!0,resizable:!1},domLayout:"autoHeight",suppressCellFocus:!0,suppressRowHoverHighlight:!0})})},h=s(2651),g=s(8539),w=s(5808);function getStandings(e){let t=[];for(let e=1;e<=12;e++)t.push({roster_id:e,totalPoints:{total:0,kicker:0,def:0},weeklyPoints:[],noKickers:{wins:0,losses:0,ties:0,rank:0},noDefs:{wins:0,losses:0,ties:0,rank:0},noKickersOrDefs:{wins:0,losses:0,ties:0,rank:0},wins:0,losses:0,ties:0,rank:0});e.forEach((e,s)=>{s+1>w.Z.getState().nflState.week-1||e.forEach((e,n)=>{let o=t[n];o.weeklyPoints.push({total:0,kicker:0,def:0}),o.weeklyPoints[s].total=e.points,o.totalPoints.total+=e.points,e.starters.forEach((t,n)=>{let a=(0,g.L)(t),r=null==a?void 0:a.position;r===h.L.K&&(o.weeklyPoints[s].kicker=e.starters_points[n],o.totalPoints.kicker+=e.starters_points[n]),r===h.L.DEF&&(o.weeklyPoints[s].def=e.starters_points[n],o.totalPoints.def+=e.starters_points[n])})})});let getStanding=e=>t.find(t=>t.roster_id===e);return e.forEach((e,t)=>{t+1>w.Z.getState().nflState.week-1||e.forEach((s,n)=>{let o=getStanding(s.roster_id),a=e.find(e=>e.matchup_id===s.matchup_id&&e.roster_id!==s.roster_id),r=getStanding(a.roster_id),i=s.points-o.weeklyPoints[t].kicker,l=a.points-r.weeklyPoints[t].kicker;i>l&&o.noKickers.wins++,i<l&&o.noKickers.losses++;let c=s.points-o.weeklyPoints[t].def,f=a.points-r.weeklyPoints[t].def;c>f&&o.noDefs.wins++,c<f&&o.noDefs.losses++;let u=s.points-o.weeklyPoints[t].kicker-o.weeklyPoints[t].def,d=a.points-r.weeklyPoints[t].kicker-r.weeklyPoints[t].def;u>d&&o.noKickersOrDefs.wins++,u<d&&o.noKickersOrDefs.losses++;let k=s.points,p=a.points;k>p&&o.wins++,k<p&&o.losses++})}),t.sort((e,t)=>e.noDefs.wins!==t.noDefs.wins?t.noDefs.wins-e.noDefs.wins:t.totalPoints.total-t.totalPoints.def-(e.totalPoints.total-e.totalPoints.def)),t.forEach((e,t)=>{e.noDefs.rank=t+1}),t.sort((e,t)=>e.noKickersOrDefs.wins!==t.noKickersOrDefs.wins?t.noKickersOrDefs.wins-e.noKickersOrDefs.wins:t.totalPoints.total-t.totalPoints.kicker-t.totalPoints.def-(e.totalPoints.total-e.totalPoints.kicker-e.totalPoints.def)),t.forEach((e,t)=>{e.noKickersOrDefs.rank=t+1}),t.sort((e,t)=>e.wins!==t.wins?t.wins-e.wins:t.totalPoints.total-e.totalPoints.total),t.forEach((e,t)=>{e.rank=t+1}),t.sort((e,t)=>e.noKickers.wins!==t.noKickers.wins?t.noKickers.wins-e.noKickers.wins:t.totalPoints.total-t.totalPoints.kicker-(e.totalPoints.total-e.totalPoints.kicker)),t.forEach((e,t)=>{e.noKickers.rank=t+1}),t}var x=s(1662),m=s(4741),_=s(7992);async function callLeagueDetails(e,t){return await fetch("https://api.sleeper.app/v1/league/".concat(e)).then(e=>e.json()).then(async e=>{if(!e)throw Error("No data");let s={name:e.name,season:e.season,leagueId:e.league_id,numOfTeams:e.total_rosters,status:e.status,draftId:e.draft_id};if(t.push(s),!e.previous_league_id||"0"===e.previous_league_id)return t;await callLeagueDetails(e.previous_league_id,t)}).catch(e=>{throw Error(e)})}async function getAllPreviousLeagueDetails(e){let t=[];return await callLeagueDetails(e,t).then(()=>t).catch(e=>{throw Error(e)})}async function getNFLState(){let e=await fetch("https://api.sleeper.app/v1/state/nfl");return await e.json()}async function getSeasonMatchups(e){let t=[];for(let s=1;s<=17;s++){let n=await fetch("https://api.sleeper.app/v1/league/".concat(e,"/matchups/").concat(s)).then(e=>e.json());t.push(n)}return await Promise.all(t)}var y=s(7066);let getUsers=async e=>await y.Z.get("https://api.sleeper.app/v1/league/".concat(e,"/users")).then(e=>e.data),getRosters=async e=>await y.Z.get("https://api.sleeper.app/v1/league/".concat(e,"/rosters")).then(e=>e.data);var hooks_useStartup=function(){let e=(0,a.I0)(),t=(0,a.v9)(_.vD),[s,n]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{getNFLState().then(s=>{e((0,m.E9)(s)),s.week-1!==t?Promise.all([getUsers(x.eo),getRosters(x.eo),getAllPreviousLeagueDetails(x.eo),getSeasonMatchups(x.eo)]).then(t=>{let o=t[0],a=t[1],r=t[2],i=t[3],l=a.map(e=>{let t=o.find(t=>t.user_id===e.owner_id);return{...e,display_name:t.display_name,team_name:t.metadata.team_name}});e((0,k.lt)(r)),e((0,k.DZ)(l)),localStorage.setItem("seasonMatchups",JSON.stringify(i)),e((0,_.E$)(s.week-1)),n(!1)}):n(!1)})},[]),{startupLoading:s}},hooks_useStandings=e=>{let[t,s]=(0,o.useState)([]);return(0,o.useEffect)(()=>{if(e){let t=getStandings(e);s(t)}},[e]),t},P=s(8552);let NoKickerCell=e=>{let t=(0,a.v9)(k.Eq),s=t.find(t=>t.team_name===e.data.teamName).roster_id,o=e.context.find(e=>e.roster_id===s),l=o.rank-o.noKickers.rank;return(0,n.jsxs)(r.U,{justify:"center",children:[(0,n.jsx)(i.x,{size:"md",color:"white",children:e.value}),0!==l&&(0,n.jsx)(i.x,{size:"xs",color:l>0?"green":"red",children:l>0?"▲".concat(l):"▼".concat(-1*l)})]})},KickersCell=e=>{let t=(0,a.v9)(k.Eq),s=t.find(t=>t.team_name===e.data.teamName).roster_id,o=e.context.find(e=>e.roster_id===s);return(0,n.jsxs)(r.U,{justify:"center",children:[(0,n.jsx)(i.x,{size:"md",color:"white",children:e.value}),(0,n.jsxs)("p",{style:{fontSize:"9px",marginLeft:"4px",color:"grey"},children:["(#",o.rank,")"]})]})};var league=()=>{let{startupLoading:e}=hooks_useStartup(),t=(0,a.v9)(k.$P),s=(0,a.v9)(_.vD),u=(0,a.v9)(k.Eq),[p,h]=(0,o.useState)(null),g=hooks_useStandings(p),[w,x]=(0,o.useState)([]),[m,y]=(0,o.useState)([]);return((0,o.useEffect)(()=>{if(!e){if(0===t.length)d().push("/");else{let e=localStorage.getItem("seasonMatchups");e?h(JSON.parse(e)):d().push("/")}}},[e]),(0,o.useEffect)(()=>{if(g){y([]),g.map((e,t)=>{let s=u.find(t=>t.roster_id===e.roster_id).team_name,n="".concat(e.wins,"-").concat(e.losses),o="".concat(e.noKickers.wins,"-").concat(e.noKickers.losses);"".concat(e.noDefs.wins,"-").concat(e.noDefs.losses),"".concat(e.noKickersOrDefs.wins,"-").concat(e.noKickersOrDefs.losses);let a={rank:t+1,teamName:s,record:n,noKickerRecord:o};y(e=>[...e,a])});let e=[{headerName:"",field:"rank",flex:.2},{headerName:"Team",field:"teamName",flex:1.6,wrapText:!0,cellStyle:{textAlign:"left",fontSize:"11px"},headerClass:"left-aligned-group-header"},{headerName:"Record",field:"record",flex:.8,cellRenderer:KickersCell,cellStyle:{textAlign:"center",fontSize:"11px"}},{headerName:"No Kickers Record",field:"noKickerRecord",flex:.8,cellRenderer:NoKickerCell,cellStyle:{textAlign:"center",fontSize:"11px"}}];x(e)}},[g]),(0,o.useEffect)(()=>{p&&getStandings(p)},[p]),0===m.length)?(0,n.jsxs)(l.g,{flex:1,bg:"primary",justify:"center",align:"center",minH:"90vh",children:[(0,n.jsx)(c.$,{size:"xl",color:"quinary"}),(0,n.jsx)(i.x,{color:"quinary",children:"Loading..."})]}):(0,n.jsxs)(l.g,{bg:"primary",flex:1,minH:"100vh",p:2,width:"100vw",align:"flex-start",children:[(0,n.jsxs)(l.g,{pl:8,w:"100%",pb:"2",align:"flex-start",children:[(0,n.jsx)(i.x,{fontSize:"32px",pt:1,color:"white",className:P.bungeeShade.className,textAlign:"left",children:"No Kickers League"}),(0,n.jsx)(r.U,{w:"100%",justify:"space-between",children:(0,n.jsx)(f.C,{color:"black",bg:"gold",fontSize:"2xs",children:"LadsLadsLads 2024"})})]}),(0,n.jsx)(table,{tableData:{cols:w,rows:m,context:g}}),(0,n.jsxs)(i.x,{w:"100%",justifySelf:"center",my:2,fontSize:"9px",color:"lightgrey",fontWeight:200,textAlign:"center",children:["Last updated: Week ",s]})]})}},2651:function(e,t,s){"use strict";var n,o;s.d(t,{L:function(){return n}}),(o=n||(n={})).QB="QB",o.RB="RB",o.WR="WR",o.TE="TE",o.K="K",o.DEF="DEF"}},function(e){e.O(0,[563,379,182,539,774,888,179],function(){return e(e.s=764)}),_N_E=e.O()}]);